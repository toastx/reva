{
  "name": "call_outcomes",
  "behavior": "BLOCKING",
  "parameters": {
    "type": "OBJECT",
    "required": [
      "summary",
      "outcome",
      "lead_quality",
      "call_score"
    ],
    "properties": {
      "call_score": {
        "type": "NUMBER",
        "minimum": 1,
        "maximum": 10,
        "description": "Overall call quality score (1-10). 10=perfect (full requirements + hot lead), 1=abrupt/no engagement"
      },
      "outcome": {
        "enum": [
          "viewing_scheduled",
          "property_details_sent",
          "callback_requested",
          "requirements_gathered",
          "not_interested",
          "incomplete_abrupt",
          "incomplete"
        ],
        "type": "STRING"
      },
      "lead_quality": {
        "enum": [
          "hot",
          "warm",
          "cold",
          "unqualified"
        ],
        "type": "STRING"
      },
      "summary": {
        "type": "STRING",
        "maxLength": 200,
        "minLength": 20,
        "description": "Concise summary: key requirements + discussion highlights (NO noise/fluff)"
      },
      "requirements": {
        "type": "OBJECT",
        "properties": {
          "location": {"type": "STRING"},
          "property_type": {"type": "STRING"},
          "bhk": {"type": "STRING"},
          "purpose": {"enum": ["rent", "buy", "not_specified"], "type": "STRING"},
          "budget_range": {"type": "STRING"},
          "occupancy_type": {"type": "STRING"},
          "diet_preference": {"type": "STRING"}
        },
        "description": "Structured requirements (only filled fields)"
      },
      "matched_properties": {
        "type": "ARRAY",
        "items": {
          "type": "STRING"
        },
        "description": "Property IDs suggested (e.g., [\"OMR001\", \"VEL002\"])"
      },
      "follow_up_required": {
        "type": "BOOLEAN"
      }
    }
  },
  "description": "Extract clean real estate call outcomes. Focus on score + requirements only. Ignore chit-chat."
}
